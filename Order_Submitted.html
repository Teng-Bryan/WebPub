<html>
	<head>
		<title>Order Submitted</title>
		
		<link href="zhengbostyle.css" rel="stylesheet"></link>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet"></link>
		<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet"></link>
		
		<style>
			.summaryBold {
				font-size: clamp(5px, 1.5vw, 20px);
				font-weight: bold;
			}
		
			.summaryText {
				font-size: clamp(5px, 1.5vw, 20px);
			}
		</style>
	</head>
	<body>
		<div class="header">
			<div class="logo-section">
				<img src="zhengbopictures/KeELogoWhiteTransparent2NoText.png" />
				<h1 class="logo-text">KeElectronics</h1>
			</div>
			
			<div class="button-container" id="authButtons">
				<!-- Buttons will be inserted by JavaScript -->
			</div>
		</div>

		<div class="backgroundnav">
			<div class="navigate">
				<a href="index.html">
					<img src="zhengbopictures/Home.png" alt="Home" />
					Home
				</a>
				<a href="Product_Catalogue.html">
					<img src="zhengbopictures/Shop.png" alt="Products" />
					Products
				</a>
				<a href="bookmarks.html">
					<img src="aarushpictures/bkmk.png" alt="Products" />
					Bookmarks
				</a>
				<a href="about_us.html">
					<img src="zhengbopictures/AboutUs.png" alt="About Us" />
					About Us
				</a>
				<a href="contact_us.html">
					<img src="zhengbopictures/ContactUs.png" alt="Contact Us" />
					Contact Us
				</a>
			</div>
		</div>
	<!-- Hanger Below Banner	-->
		<div class="LRbanner" style="margin-top:0.1%; padding: 0.1% 0px;">
			<div class="container">
				<img style="width: clamp(12.5px, 1.5vw, 25px); height: auto; margin: 0.5vw;" src="zhengbopictures/Left_Arrow.png" alt="Description" width="25" height="20">
				<a class="linkButton" href="Product_Catalouge.html" target="_blank" style="background-color: black; color: white; padding: 0.25vw; font-size: clamp(0.5rem, 2vw, 1rem)">Back to Browsing</a>
			</div>
			
			<div class="container">
				<span style="font-size: clamp(10px, 1.5vw, 20px)">We Deliver Worldwide!</span>
				<img src="zhengbopictures/Globe.png" alt="Globe Icon"
				   style="width: clamp(12.5px, 1.5vw, 25px); height: auto; margin: 0.5vw;">
			</div>
		</div>
		
		<!-- Order Summary -->
		<div style="width: 100%; background-color: #87ceeb; margin-top:0.1%; padding-top: 1.5%; padding-bottom: 1.5%;">
		  <div style="width: 60%; margin: 0 auto; background-color: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); font-family: 'Montserrat';">
			
			<div style="display: flex; flex-wrap: wrap; gap: 1vw">
			  <!-- Left: Order Summary -->
			  <div style="flex: 1; min-width: 250px;">
				<span style="font-size: clamp(7px, 1.7vw, 25px); font-weight: bold;">Order Confirmation</span>
				<div id="orderSummary"></div>
			  </div>

			  <!-- Right: Product Details -->
			  <div style="flex: 1; min-width: 250px;"> 
				<span style="font-size: clamp(7px, 1.7vw, 25px); font-weight: bold;">Product Details</span>
					<div id="product-details">
					  <img id="order-product-image" style="width: 25vw; border-radius: 25px" /><br/><br/>
					  <div><span class="summaryBold">Product:</span> <span class="summaryText" id="order-product-name"></span></div>
					  <div><span class="summaryBold">Price:</span> <span class="summaryText" id="order-product-price"></span></div>
					</div>
			  </div>
			</div>
		  </div>
		</div>
		
		<!-- Message -->
		<div class="VListBanner" style="padding: 10px; margin-top: 200px; margin-bottom: 200px; .centered-content">
			<span class="bannerText">Thank You For Ordering with Us!</span>
			<span style="font-size: clamp(10px, 1.5vw, 20px)">Please order from us again</span>
			<span style="font-size: clamp(10px, 1.5vw, 20px); margin-top:1vh">Have any feedback for us? Leave it down here!</span>
			<a class="linkButton" href="Feedback_Form.html" target="" style="padding: 0.5vw 1.5vw; color: black; border: 1px solid #000; font-size: clamp(10px, 2vw, 20px); background-color: #87ceeb;">
			Feedback</a>
		</div>
		
		<!-- End Banner -->
		<div class="VListBanner" style="background-color: #87ceeb; padding: 1%; align-items: center; margin-top:auto; flex: 1;">
			<div class="bannerText">End of the line!</div>
			<!---->
			<span style="font-size: clamp(10px, 2vw, 20px)">You've reached the end of the Order Form.</span>
			<div class="HListBanner" style="background-color: #87ceeb; gap: 1vw; padding: 1% 1vw; font-size: clamp(10px, 2vw, 20px);">
				<a class="linkButton" href="index.html" target="" style="padding: 0.5vw 1.5vw; color: black; border: 1px solid #000;">Home Page</a>
				<a class="linkButton" href="about_us.html" target="" style="padding: 0.5vw 1.5vw; color: black; border: 1px solid #000;">About Us</a>
				<a class="linkButton" href="javascript:void(0)" onclick="scrollToTop()" style="padding: 0.5vw 1.5vw; color: black; border: 1px solid #000;">Back To Top</a>
				<!-- Back to Top Java-->
				<script>
				  function scrollToTop() {
					window.scrollTo({ top: 0, behavior: 'smooth' });
				  }
				</script>
		    	</div>
                	
			<br/>
			<span style="font-size: clamp(10px, 2vw, 15px)">Â© 2025 KeElectronics. All rights reserved.</span>
		</div>
					<script>
					  // Auth buttons functionality
					  const authButtons = document.getElementById("authButtons");
					  const loggedInUser = localStorage.getItem("loggedInUser");

					  if (loggedInUser) {
						authButtons.innerHTML = `
						  <span style="font-size: 26px; margin-right: 20px;">Welcome, <strong>${loggedInUser}</strong></span>
						  <button onclick="logout()" class="signup-btn">Logout</button>
						`;
					  } else {
						authButtons.innerHTML = `
						 <a href="signin.html?redirect=Feedback_Form.html">
					<button class="text-link">Sign In</button></a>
					
        			<a href="signup.html?redirect=Feedback_Form.html">
            		<button class="signup-btn">Sign Up</button></a>
						`;
					  }

					  function logout() {
						localStorage.removeItem("loggedInUser");
						window.location.reload();
					  }
					  
					  window.onload = function () {
					  const productData = JSON.parse(sessionStorage.getItem("selectedProduct"));

					  if (productData) {
						document.getElementById("order-product-name").textContent = productData.name;
						document.getElementById("order-product-price").textContent = `$${productData.price}`;
						document.getElementById("order-product-image").src = productData.image;
						document.getElementById("order-product-image").alt = productData.name;
					  } else {
						document.body.innerHTML = "<h2 style='text-align:center;'>No product selected for order.</h2>";
					  }
					};

					  // Retrieve Form Inputs
					  const params = new URLSearchParams(window.location.search);

					  const username = params.get("username");
					  const phonenumber = params.get("phonenumber");
					  const country = params.get("country");
					  const address = params.get("address");
					  const dategoal = params.get("dategoal");
					  const modeofTransport = params.get("modeofTransport");
					  const nameOnCard = params.get("nameOnCard");
					  const cardNumber = params.get("cardNumber");
					  const cvvNumber = params.get("cvvNumber");
					  const expiryDate = params.get("expiryDate");

					  const maskedCard = cardNumber && cardNumber.length >= 4
						? `**** **** **** ${cardNumber.slice(-4)}`
						: "Invalid or missing card number";

					  document.getElementById("orderSummary").innerHTML = `
						<div><span class="summaryBold">Username:</span> <span class="summaryText">${username}</span></div>
						<div><span class="summaryBold">Phonenumber:</span> <span class="summaryText">${phonenumber}</span></div>
						<div><span class="summaryBold">Country:</span> <span class="summaryText">${country}</span></div>
						<div><span class="summaryBold">Address:</span> <span class="summaryText">${address}</span></div>
						<div><span class="summaryBold">Dategoal:</span> <span class="summaryText">${dategoal}</span></div>
						<div><span class="summaryBold">Mode of Transport:</span> <span class="summaryText">${modeofTransport}</span></div>
						<div><span class="summaryBold">Name On Card:</span> <span class="summaryText">${nameOnCard}</span></div>
						<div><span class="summaryBold">Card Number:</span> <span class="summaryText">${maskedCard}</span></div>
					  `;
					</script>
	</body>
</div>
</html>
